
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Introduction &#8212; Jupyter Book Template</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="docs/home.html">
  
  
  
  
  
  
    <p class="title logo__title">Jupyter Book Template</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="docs/home.html">
                    Jupyter Book Tutorial
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="docs/notebook.html">Example Notebook</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/yenchiah/jupyter-book-template/blob/main/docs/index.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template/issues/new?title=Issue%20on%20page%20%2Findex.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/index.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introduction</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-and-preprocessing">Dataset and preprocessing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-1-housing-prices-vs-income-20112023">📈 Argument 1.1: Housing Prices vs. Income (2011–2023)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-2-first-time-buyers-have-relatively-higher-mortgage-debt">📊 Argument 1.2: First-time buyers have relatively higher mortgage debt</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-3-in-specific-provinces-the-gap-between-income-and-house-price-widens-quicker-than-in-others">📊 Argument 1.3: In specific provinces, the gap between income and house price widens quicker than in others.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-the-first-perspective">Summary of the first perspective</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-1-low-interest-rates-softened-the-impact-of-rising-house-prices">📊 Argument 2.1: Low Interest Rates Softened the Impact of Rising House Prices</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-2-alternative-housing-options-provide-local-relief">📊 Argument 2.2: Alternative housing options provide local relief</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-3-regional-price-differences-make-homeownership-more-realistic">📊 Argument 2.3: Regional Price Differences Make Homeownership More Realistic</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-the-second-perspective">Summary of the second perspective</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#general-summary">General summary</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#reflection">Reflection</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#work-distribution">Work distribution</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h1>
<p>The housing crisis is becoming an increasingly urgent issue across many countries,
especially in urban areas. It is clear that house prices have been growing significantly more than a decade ago. Throughout history, the house prices have never seen as much growth as the 20’th century (Knoll, K., Schularick, M., &amp; Steger, T., 2017). While home prices have surged over the last decade, average
incomes have not been able to keep growing at the same pace, making housing
progressively more unaffordable for large portions of the population. This data visualization
will explore how the gap between home prices and income has progressed over time and
across regions and within the netherlands, aiming to explore patterns and consequences of this
imbalance.</p>
<p><strong>First perspective: unaffordable for first-time buyers</strong></p>
<p>Recently, housing has become increasingly unaffordable for first-time buyers.
Home prices have risen much faster than
average wages, which undermines first-time buyers. The substantial growth in housing prices combined with the tight house market forms a harsh reality for first-time buyers (E.M.J. Veerhoek. 2024) This affordability gap forces many to
delay homeownership or go into increasingly higher loans. There are also things such as
the need for larger down payments, rising rents, and stricter lending standards that limit
homeownership.</p>
<p>In this perspective, we will be comparing the growth of house prices against income. we will also show the trouble first time buyers go through, by showing how much starters have to pay relative to their income. Besides that, we will also highlight de difference between provinces.</p>
<p><strong>Second perspective: Contextualizing affordability through changing conditions</strong></p>
<p>While
housing may seem unaffordable at first glance, there might be more economic and social
changes at play. Interest rates are currently at an all-time low, which can compensate for
the high prices by lowering the monthly mortgage costs. There are also government
subsidies, changing living preferences and a growth in alternative living arrangements that
offer paths to affordability in housing. Location also plays a key role in pricing: while urban
centers might be expensive, there are also many areas that still offer relatively affordable
housing options. Alternative housing such as tiny houses might also be the new future of housing (Shearer, H., &amp; Burton, P. 2018), proving to be a sustainable and affordable alternative.</p>
<p>In this perspective, we will be comparing house values to monthly costs at a fixed interest rate. We will also look at the upcoming of alternative housing options, to show cheaper alternatives in the current market. Then we will show the difference of house prices between regions, to underline the fact that moving to different parts of the county might lessen the financial pressure of entering and sustaining in the current house market.</p>
</section>
<section id="dataset-and-preprocessing">
<h1>Dataset and preprocessing<a class="headerlink" href="#dataset-and-preprocessing" title="Link to this heading">#</a></h1>
<p>To make the datasets more easily usable for this infovisual, the datasets needed to be streamlined. This was done by removing any data with unneeded information and keeping only the specific information that was needed to make the correct visualization. This was to make it easier to make the code and that there was no hardcoding needed, because the datasets were easily readable by modules like plotly.</p>
<p>The structure of the used datasets does not differ much. Most datasets are made up of a few important parts. Firstly, every dataset has a date, to make sure we can document every change over time. Secondly, almost all the datasets have been divided into different provinces and/or cities. The third variable will differ between datasets. This variable is what distinguishes the dataset from each other. The focus for the datasets is to be relevant in current time, so most of the data will be post 2010’s. Most columns in the datasets are also renamed and translated, since they were provided in dutch. It is also possible for some columns that were not of use to be removed.</p>
</section>
<section id="argument-1-1-housing-prices-vs-income-20112023">
<h1>📈 Argument 1.1: Housing Prices vs. Income (2011–2023)<a class="headerlink" href="#argument-1-1-housing-prices-vs-income-20112023" title="Link to this heading">#</a></h1>
<p>This dual-axis line chart visualizes the divergence between average home prices and standardized disposable income in the Netherlands from 2011 to 2023.</p>
<ul class="simple">
<li><p>The <strong>left Y-axis</strong> shows average home prices in euros.</p></li>
<li><p>The <strong>right Y-axis</strong> shows standardized disposable income in euros.</p></li>
<li><p>Both variables are plotted over the years 2011–2023.</p></li>
</ul>
<p>While income has increased gradually over the years, <strong>home prices have risen much more sharply</strong>. The visualization highlights the growing affordability gap for first-time buyers, showing that income growth has <strong>not kept pace</strong> with the rapid rise in housing costs.</p>
<p>This supports the argument that housing has become increasingly unaffordable for starters.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_subplots</span>

<span class="n">bruto_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;gemmideld_bruto_inkomen.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">besteedbaar_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;gemmideld_inkomen.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">huisprijs_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;huisprijs.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

<span class="n">bruto_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">bruto_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">besteedbaar_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">besteedbaar_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">huisprijs_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">huisprijs_df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">clean_income_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">year_col</span><span class="p">,</span> <span class="n">value_col</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">year_col</span><span class="p">,</span> <span class="n">value_col</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="n">year_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">year_col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d</span><span class="si">{4}</span><span class="s1">)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="n">df</span><span class="p">[</span><span class="n">value_col</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">value_col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="n">year_col</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2011</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">year_col</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">2023</span><span class="p">)]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">bruto_clean</span> <span class="o">=</span> <span class="n">clean_income_data</span><span class="p">(</span><span class="n">bruto_df</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">,</span> <span class="s1">&#39;Gemiddeld bruto inkomen&#39;</span><span class="p">)</span>
<span class="n">besteedbaar_clean</span> <span class="o">=</span> <span class="n">clean_income_data</span><span class="p">(</span><span class="n">besteedbaar_df</span><span class="p">,</span> <span class="s1">&#39;Category&#39;</span><span class="p">,</span> <span class="s1">&#39;Gestandaardiseerd besteedbaar inkomen&#39;</span><span class="p">)</span>
<span class="n">bruto_clean</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Gross Income&#39;</span><span class="p">]</span>
<span class="n">besteedbaar_clean</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;Disposable Income&#39;</span><span class="p">]</span>

<span class="n">huisprijs_df</span> <span class="o">=</span> <span class="n">huisprijs_df</span><span class="p">[</span><span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^\d</span><span class="si">{4}</span><span class="s1">$&#39;</span><span class="p">)]</span>
<span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Gemiddelde verkoopprijs (euro)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Gemiddelde verkoopprijs (euro)&#39;</span><span class="p">]</span>\
    <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">huisprijs_clean</span> <span class="o">=</span> <span class="n">huisprijs_df</span><span class="p">[(</span><span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2011</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">huisprijs_df</span><span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">2023</span><span class="p">)][</span>
    <span class="p">[</span><span class="s1">&#39;Perioden&#39;</span><span class="p">,</span> <span class="s1">&#39;Gemiddelde verkoopprijs (euro)&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">huisprijs_clean</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="s1">&#39;House Price&#39;</span><span class="p">]</span>

<span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">huisprijs_clean</span><span class="p">,</span> <span class="n">bruto_clean</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">merged_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">merged_df</span><span class="p">,</span> <span class="n">besteedbaar_clean</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span><span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s2">&quot;secondary_y&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}]])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">merged_df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span>
    <span class="n">y</span><span class="o">=</span><span class="n">merged_df</span><span class="p">[</span><span class="s1">&#39;House Price&#39;</span><span class="p">],</span>
    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines+markers&#39;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;House Price (€)&#39;</span><span class="p">,</span>
    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">),</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="n">merged_df</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span>
    <span class="n">y</span><span class="o">=</span><span class="n">merged_df</span><span class="p">[</span><span class="s1">&#39;Disposable Income&#39;</span><span class="p">],</span>
    <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines+markers&#39;</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Disposable Income (€)&#39;</span><span class="p">,</span>
    <span class="n">line</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">dash</span><span class="o">=</span><span class="s1">&#39;dot&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="p">),</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Comparison of House Prices and Income (2011–2023)&quot;</span><span class="p">,</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">legend</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">0.02</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">0.98</span><span class="p">),</span>
    <span class="n">template</span><span class="o">=</span><span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span>
<span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;House Price (€)&quot;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_yaxes</span><span class="p">(</span><span class="n">title_text</span><span class="o">=</span><span class="s2">&quot;Standardized Income (€)&quot;</span><span class="p">,</span> <span class="n">secondary_y</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="kn">from</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_subplots</span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;pandas&#39;
</pre></div>
</div>
</div>
</div>
</section>
<section id="argument-1-2-first-time-buyers-have-relatively-higher-mortgage-debt">
<h1>📊 Argument 1.2: First-time buyers have relatively higher mortgage debt<a class="headerlink" href="#argument-1-2-first-time-buyers-have-relatively-higher-mortgage-debt" title="Link to this heading">#</a></h1>
<p>This 3D visualization shows the relationship between gross income, age and the Loan-to-Income (LTI) ratio of households in the Netherlands (CBS, 2022).</p>
<ul class="simple">
<li><p><strong>X-axis</strong>: Gross income (€) per age group (estimated or based on CBS/Knab data)</p></li>
<li><p><strong>Y-axis</strong>: Age of the main breadwinner (average per group)</p></li>
<li><p><strong>Z-axis</strong>: Loan-to-Income (LTI): the ratio between mortgage debt and gross income</p></li>
</ul>
<p><strong>Observations:</strong></p>
<ul class="simple">
<li><p>Younger age groups (25–35 years) have a lower income, but a relatively high LTI.</p></li>
<li><p>Older age groups (45–65 years) have a higher income, but lower LTI ratios.</p></li>
<li><p>This highlights that first-time buyers are spending a larger portion of their income on mortgage payments — an indication of reduced affordability.</p></li>
</ul>
<p>The color coding by age group helps visually distinguish trends.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">plotly.express</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">px</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">lti_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Inkomen_LTI_Gecombineerd.csv&#39;</span><span class="p">)</span>

<span class="n">age_group_translation</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Hoofdkostwinner: tot 25 jaar&#39;</span><span class="p">:</span> <span class="s1">&#39;Primary earner: under 25&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Hoofdkostwinner: 25 tot 35 jaar&#39;</span><span class="p">:</span> <span class="s1">&#39;Primary earner: 25-35&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Hoofdkostwinner: 35 tot 45 jaar&#39;</span><span class="p">:</span> <span class="s1">&#39;Primary earner: 35-45&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Hoofdkostwinner: 45 tot 65 jaar&#39;</span><span class="p">:</span> <span class="s1">&#39;Primary earner: 45-65&#39;</span>
<span class="p">}</span>

<span class="n">viz_data</span> <span class="o">=</span> <span class="n">lti_merged</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">viz_data</span><span class="p">[</span><span class="s1">&#39;Age Group EN&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">viz_data</span><span class="p">[</span><span class="s1">&#39;Leeftijdsgroep&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">age_group_translation</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_3d</span><span class="p">(</span>
    <span class="n">viz_data</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Bruto Inkomen&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Leeftijd&#39;</span><span class="p">,</span>
    <span class="n">z</span><span class="o">=</span><span class="s1">&#39;LTI&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Age Group EN&#39;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Age Group EN&#39;</span><span class="p">,</span>
    <span class="n">size_max</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;3D Visualization of Gross Income, Age and Loan-to-Income (LTI) Ratio&#39;</span><span class="p">,</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
        <span class="s1">&#39;Bruto Inkomen&#39;</span><span class="p">:</span> <span class="s1">&#39;Gross Income (€)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Leeftijd&#39;</span><span class="p">:</span> <span class="s1">&#39;Age&#39;</span><span class="p">,</span>
        <span class="s1">&#39;LTI&#39;</span><span class="p">:</span> <span class="s1">&#39;LTI (Mortgage Debt / Income)&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Age Group EN&#39;</span><span class="p">:</span> <span class="s1">&#39;Age Group&#39;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_traces</span><span class="p">(</span>
    <span class="n">marker</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">),</span>
    <span class="n">textposition</span><span class="o">=</span><span class="s1">&#39;top center&#39;</span><span class="p">,</span>
    <span class="n">hovertemplate</span><span class="o">=</span><span class="p">(</span>
        <span class="s2">&quot;&lt;b&gt;%</span><span class="si">{text}</span><span class="s2">&lt;/b&gt;&lt;br&gt;&lt;br&gt;&quot;</span>
        <span class="s2">&quot;Gross Income: €%</span><span class="si">{x:,.0f}</span><span class="s2">&lt;br&gt;&quot;</span>
        <span class="s2">&quot;Age: %</span><span class="si">{y}</span><span class="s2">&lt;br&gt;&quot;</span>
        <span class="s2">&quot;LTI: %</span><span class="si">{z:.2f}</span><span class="s2">&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">scene</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Gross Income (€)&#39;</span><span class="p">,</span>
        <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span>
        <span class="n">zaxis_title</span><span class="o">=</span><span class="s1">&#39;LTI (Mortgage Debt / Income)&#39;</span>
    <span class="p">),</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">800</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span>
    <span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="argument-1-3-in-specific-provinces-the-gap-between-income-and-house-price-widens-quicker-than-in-others">
<h1>📊 Argument 1.3: In specific provinces, the gap between income and house price widens quicker than in others.<a class="headerlink" href="#argument-1-3-in-specific-provinces-the-gap-between-income-and-house-price-widens-quicker-than-in-others" title="Link to this heading">#</a></h1>
<p>This plot shows the growth of house prices compared to the growth of income per region. Different regions are displayed in different colors, showing not only the difference between income and house prices, but also the difference between regions. This shows that the house market might be worse depending on the region you live in.</p>
<p><strong>Top Map (House Price-to-Income Ratio by Region):</strong></p>
<ul class="simple">
<li><p><strong>Color coding</strong>: The map uses a gradient from green to red to indicate the ratio of average house prices to average incomes per region.</p></li>
</ul>
<p><strong>Bottom Line Graph (House Price vs. Income Growth in Noord-Holland):</strong></p>
<ul class="simple">
<li><p><strong>X-axis:</strong> Year (2011 to 2023)</p></li>
<li><p><strong>Y-axis:</strong> Percentage growth compared to 2011</p></li>
</ul>
<p>From 2011 to 2023, house prices most provinces grew significantly faster than incomes, widening even more from 2017. Central regions seem to suffer more from the growing house prices compared to southern and northern regions, suggesting reduced housing affordabillity. This imbalance has far-reaching consequences. It affects people’s ability to buy a home near their work, pushes younger generations to move away from their hometowns, and deepens the divide between economically stronger and weaker areas. Monitoring and addressing this widening gap is of importance for creating a more balanced housing market across the country.</p>
<div class="cell tag_{_____&quot;tags&quot;:_[_________&quot;hide-input&quot;,_____]_} docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.express</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">px</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ipywidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">VBox</span>
<span class="n">woningprijzen</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;gemkoopsom.csv&#39;</span><span class="p">)</span>
<span class="n">inkomens</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;geminkomen.csv&#39;</span><span class="p">)</span>
<span class="n">inkomens</span> <span class="o">=</span> <span class="n">inkomens</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">))</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="ow">and</span> <span class="s1">&#39;,&#39;</span> <span class="ow">in</span> <span class="n">x</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>

<span class="n">woningprijzen</span><span class="p">[</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">woningprijzen</span><span class="p">[</span><span class="s2">&quot;Regio&#39;s&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; (PV)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">inkomens</span><span class="p">[</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inkomens</span><span class="p">[</span><span class="s2">&quot;Regio&#39;s&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; (PV)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;the-netherlands.geojson&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">nl_geojson</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">calculate_growth</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">start_year</span><span class="p">,</span> <span class="n">end_year</span><span class="p">):</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Growth (%)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">end_year</span><span class="p">)]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">start_year</span><span class="p">)])</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">start_year</span><span class="p">)])</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="k">return</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;Regio</span><span class="se">\&#39;</span><span class="s1">s&#39;</span><span class="p">,</span> <span class="s1">&#39;Growth (%)&#39;</span><span class="p">]]</span>

<span class="n">woning_groei</span> <span class="o">=</span> <span class="n">calculate_growth</span><span class="p">(</span><span class="n">woningprijzen</span><span class="p">,</span> <span class="mi">2011</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>
<span class="n">inkomen_groei</span> <span class="o">=</span> <span class="n">calculate_growth</span><span class="p">(</span><span class="n">inkomens</span><span class="p">,</span> <span class="mi">2011</span><span class="p">,</span> <span class="mi">2023</span><span class="p">)</span>

<span class="n">merged_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span>
    <span class="n">woning_groei</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Growth (%)&#39;</span><span class="p">:</span> <span class="s1">&#39;House_price_growth&#39;</span><span class="p">}),</span>
    <span class="n">inkomen_groei</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Growth (%)&#39;</span><span class="p">:</span> <span class="s1">&#39;Income_growth&#39;</span><span class="p">}),</span>
    <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Regio</span><span class="se">\&#39;</span><span class="s1">s&#39;</span>
<span class="p">)</span>
<span class="n">merged_data</span><span class="p">[</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_data</span><span class="p">[</span><span class="s1">&#39;Regio</span><span class="se">\&#39;</span><span class="s1">s&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; (PV)&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">merged_data</span><span class="p">[</span><span class="s1">&#39;Ratio&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged_data</span><span class="p">[</span><span class="s1">&#39;House_price_growth&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">merged_data</span><span class="p">[</span><span class="s1">&#39;Income_growth&#39;</span><span class="p">]</span>

<span class="n">line_fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">()</span>
<span class="n">line_fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Click on a province to see details&quot;</span><span class="p">,</span>
    <span class="n">xaxis_title</span><span class="o">=</span><span class="s2">&quot;Year&quot;</span><span class="p">,</span>
    <span class="n">yaxis_title</span><span class="o">=</span><span class="s2">&quot;Euro&quot;</span><span class="p">,</span>
    <span class="n">template</span><span class="o">=</span><span class="s2">&quot;plotly_white&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">500</span>
<span class="p">)</span>

<span class="n">choropleth</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">FigureWidget</span><span class="p">(</span>
    <span class="n">px</span><span class="o">.</span><span class="n">choropleth</span><span class="p">(</span>
        <span class="n">merged_data</span><span class="p">,</span>
        <span class="n">geojson</span><span class="o">=</span><span class="n">nl_geojson</span><span class="p">,</span>
        <span class="n">locations</span><span class="o">=</span><span class="s1">&#39;Provincie&#39;</span><span class="p">,</span>
        <span class="n">featureidkey</span><span class="o">=</span><span class="s1">&#39;properties.name&#39;</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Ratio&#39;</span><span class="p">,</span>
        <span class="n">hover_name</span><span class="o">=</span><span class="s1">&#39;Provincie&#39;</span><span class="p">,</span>
        <span class="n">hover_data</span><span class="o">=</span><span class="p">{</span>
            <span class="s1">&#39;House_price_growth&#39;</span><span class="p">:</span> <span class="s1">&#39;:.1f%&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Income_growth&#39;</span><span class="p">:</span> <span class="s1">&#39;:.1f%&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Ratio&#39;</span><span class="p">:</span> <span class="s1">&#39;:.2f&#39;</span><span class="p">,</span>
            <span class="s1">&#39;Provincie&#39;</span><span class="p">:</span> <span class="kc">False</span>
        <span class="p">},</span>
        <span class="n">color_continuous_scale</span><span class="o">=</span><span class="s1">&#39;RdYlGn_r&#39;</span><span class="p">,</span>
        <span class="n">range_color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span>
        <span class="n">labels</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Ratio&#39;</span><span class="p">:</span> <span class="s1">&#39;Ratio&lt;br&gt;(House Price/Income)&#39;</span><span class="p">},</span>
        <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
        <span class="n">width</span><span class="o">=</span><span class="mi">1300</span>
    <span class="p">)</span>
<span class="p">)</span>


<span class="n">choropleth</span><span class="o">.</span><span class="n">update_geos</span><span class="p">(</span><span class="n">fitbounds</span><span class="o">=</span><span class="s2">&quot;locations&quot;</span><span class="p">,</span> <span class="n">visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">choropleth</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;r&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;t&quot;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="s2">&quot;l&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;b&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">},</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;House Price Growth vs. Income Growth Ratio&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">update_line</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">points</span><span class="p">,</span> <span class="n">selector</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">points</span><span class="o">.</span><span class="n">point_inds</span><span class="p">:</span>
        <span class="n">provincie</span> <span class="o">=</span> <span class="n">merged_data</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">points</span><span class="o">.</span><span class="n">point_inds</span><span class="p">[</span><span class="mi">0</span><span class="p">]][</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span>
        <span class="n">jaren</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">2024</span><span class="p">)]</span>

        <span class="n">prijzen</span> <span class="o">=</span> <span class="n">woningprijzen</span><span class="p">[</span><span class="n">woningprijzen</span><span class="p">[</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">provincie</span><span class="p">][</span><span class="n">jaren</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
        <span class="n">inkomens_</span> <span class="o">=</span> <span class="n">inkomens</span><span class="p">[</span><span class="n">inkomens</span><span class="p">[</span><span class="s1">&#39;Provincie&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">provincie</span><span class="p">][</span><span class="n">jaren</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

        <span class="n">prijzen_groei</span> <span class="o">=</span> <span class="p">((</span><span class="n">prijzen</span> <span class="o">-</span> <span class="n">prijzen</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">prijzen</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>
        <span class="n">inkomens_groei</span> <span class="o">=</span> <span class="p">((</span><span class="n">inkomens_</span> <span class="o">-</span> <span class="n">inkomens_</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">/</span> <span class="n">inkomens_</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>

        <span class="n">line_fig</span><span class="o">.</span><span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">line_fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">jaren</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">prijzen_groei</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines+markers&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;House price growth (%)&#39;</span><span class="p">))</span>
        <span class="n">line_fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">jaren</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">inkomens_groei</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;lines+markers&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Income growth (%)&#39;</span><span class="p">))</span>

        <span class="n">line_fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Percentage growth of house prices and income in </span><span class="si">{</span><span class="n">provincie</span><span class="si">}</span><span class="s1"> (compared to 2011)&#39;</span><span class="p">,</span>
            <span class="n">yaxis_title</span><span class="o">=</span><span class="s1">&#39;Growth compared to 2011 (%)&#39;</span><span class="p">,</span>
            <span class="n">xaxis_title</span><span class="o">=</span><span class="s1">&#39;Year&#39;</span><span class="p">,</span>
            <span class="n">yaxis</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">110</span><span class="p">]),</span>
            <span class="n">template</span><span class="o">=</span><span class="s1">&#39;plotly_white&#39;</span><span class="p">,</span>
            <span class="n">width</span><span class="o">=</span><span class="mi">1200</span><span class="p">,</span>
            <span class="n">height</span><span class="o">=</span><span class="mi">500</span>
<span class="p">)</span>

<span class="n">choropleth</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">on_click</span><span class="p">(</span><span class="n">update_line</span><span class="p">)</span>

<span class="n">VBox</span><span class="p">([</span><span class="n">choropleth</span><span class="p">,</span> <span class="n">line_fig</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Mark\AppData\Local\Temp\ipykernel_13116\2660488042.py:9: FutureWarning:

DataFrame.applymap has been deprecated. Use DataFrame.map instead.
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "b535ade9b40249f5abad7e76ed765c55", "version_major": 2, "version_minor": 0}</script></div>
</div>
</section>
<section id="summary-of-the-first-perspective">
<h1>Summary of the first perspective<a class="headerlink" href="#summary-of-the-first-perspective" title="Link to this heading">#</a></h1>
<p>As shown in the arguments, it is made clear that income does not yet match the growth of house prices in any way. While the growth of income in recent year has been growing gradually, it is clear that the house prices have been growing way more sharply the recent years. Besides the average income already not matching the house prices, it is also made clear that starters have a relatively harder time entering the house market, since they have to spend a larger portion of their income on mortgage payments. The ratio between house price and income per region also differs a lot, which has even more negative effects such as a stronger division between economically weak and strong regions.</p>
</section>
<section id="argument-2-1-low-interest-rates-softened-the-impact-of-rising-house-prices">
<h1>📊 Argument 2.1: Low Interest Rates Softened the Impact of Rising House Prices<a class="headerlink" href="#argument-2-1-low-interest-rates-softened-the-impact-of-rising-house-prices" title="Link to this heading">#</a></h1>
<p>This graph offers important context that challenges overly negative views of the housing market. It shows the monthly mortgage payments for home loans issued at each point in time, calculated using the average home price and the corresponding interest rate for different fixed-rate mortgages.</p>
<ul class="simple">
<li><p><strong>X-axis:</strong> Date (from 2017 to 2025)</p></li>
<li><p><strong>Left Y-axis (gray line):</strong> Average house value (€)</p></li>
<li><p><strong>Right Y-axis (blue line):</strong> Corresponding monthly mortgage costs (€) for a fixed interest rate (5–10 years)</p></li>
</ul>
<p>This figure underscores a broader point: the housing market’s apparent unaffordability is not just about prices. It also depends on financial conditions, policy choices, and product types—like the mortgage structure. In many cases, households were still able to buy homes thanks to favorable financing terms. So while recent cost increases are certainly real, they follow an extended period of relatively affordable borrowing—suggesting the market may not be as dysfunctional as headlines imply.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ipywidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">Dropdown</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span>
    <span class="s1">&#39;ignore&#39;</span><span class="p">,</span>
    <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Could not infer format, so each element will be parsed individually*&#39;</span>
<span class="p">)</span>

<span class="n">df_rente</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_rente</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1"># ---------------- inlezen ----------------</span>
<span class="n">df_woning</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;schoon_woningdata.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">])</span>
<span class="n">df_rente</span>  <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;(16-06-25)_Bancaire_rente_op_zuiver_nieuw_afgesloten_woninghypotheken_huishoudens.csv&#39;</span><span class="p">)</span>

<span class="c1"># kolommen hernoemen – let op: linker-kant is 1-op-1 de lijst die je net printte</span>
<span class="n">df_rente</span> <span class="o">=</span> <span class="n">df_rente</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">:</span>                <span class="s1">&#39;Datum&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Variabel en &lt;= 1 years&#39;</span><span class="p">:</span>    <span class="s1">&#39;Variabel &lt;=1j (%)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&gt; 1 years en &lt;= 5 years&#39;</span><span class="p">:</span>   <span class="s1">&#39;1-5j (%)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&gt; 5 years en &lt;= 10 years&#39;</span><span class="p">:</span>  <span class="s1">&#39;5-10j (%)&#39;</span><span class="p">,</span>
    <span class="s1">&#39;&gt; 10 years&#39;</span><span class="p">:</span>                <span class="s1">&#39;&gt;10j (%)&#39;</span>
<span class="p">})</span>

<span class="c1"># datum &amp; komma-decimalen opruimen</span>
<span class="n">rentecols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Variabel &lt;=1j (%)&#39;</span><span class="p">,</span><span class="s1">&#39;1-5j (%)&#39;</span><span class="p">,</span><span class="s1">&#39;5-10j (%)&#39;</span><span class="p">,</span><span class="s1">&#39;&gt;10j (%)&#39;</span><span class="p">]</span>
<span class="n">df_rente</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_rente</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">rentecols</span><span class="p">:</span>
    <span class="n">df_rente</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">df_rente</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">regex</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
    <span class="p">)</span>

<span class="n">df_woning</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df_woning</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">df</span>        <span class="o">=</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_woning</span><span class="p">,</span> <span class="n">df_rente</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;Datum&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
              <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Datum&#39;</span><span class="p">))</span>

<span class="c1"># ---------------- plotfunctie ----------------</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_met_rente</span><span class="p">(</span><span class="n">rente_col</span><span class="p">):</span>
    <span class="n">looptijd</span> <span class="o">=</span> <span class="mi">30</span> <span class="o">*</span> <span class="mi">12</span>                                  <span class="c1"># 30 jaar, in maanden</span>
    <span class="n">maandlast</span> <span class="o">=</span> <span class="p">(</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waarde&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">rente_col</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span> <span class="o">/</span>
        <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="n">rente_col</span><span class="p">]</span><span class="o">/</span><span class="mi">100</span><span class="o">/</span><span class="mi">12</span><span class="p">)</span> <span class="o">**</span> <span class="o">-</span><span class="n">looptijd</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">fig</span><span class="p">,</span> <span class="n">ax1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Waarde&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Woningwaarde&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Woningwaarde (€)&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">);</span> <span class="n">ax1</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

    <span class="n">ax2</span> <span class="o">=</span> <span class="n">ax1</span><span class="o">.</span><span class="n">twinx</span><span class="p">()</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Datum&#39;</span><span class="p">],</span> <span class="n">maandlast</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Maandlast&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Maandlast (€)&#39;</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">);</span> <span class="n">ax2</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">labelcolor</span><span class="o">=</span><span class="s1">&#39;tab:blue&#39;</span><span class="p">)</span>
    <span class="n">ax2</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ax1</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Datum&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Woningwaarde vs. maandlast – rentevast: </span><span class="si">{</span><span class="n">rente_col</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">);</span> <span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ---------------- interactieve widget ----------------</span>
<span class="n">interact</span><span class="p">(</span>
    <span class="n">plot_met_rente</span><span class="p">,</span>
    <span class="n">rente_col</span><span class="o">=</span><span class="n">Dropdown</span><span class="p">(</span>
        <span class="n">options</span><span class="o">=</span><span class="n">rentecols</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="s1">&#39;5-10j (%)&#39;</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Rentevastperiode:&#39;</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\Mark\AppData\Local\Temp\ipykernel_13116\3993582333.py:19: UserWarning:

Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "2fa334bdaafa4a9c8e1af1914116d331", "version_major": 2, "version_minor": 0}</script><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;function __main__.plot_met_rente(rente_col)&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_rente</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span>
    <span class="s1">&#39;(16-06-25)_Bancaire_rente_op_zuiver_nieuw_afgesloten_woninghypotheken_huishoudens.csv&#39;</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_rente</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Unnamed: 0&#39;, &#39;Totaal&#39;, &#39;Variabel en &lt;= 1 years&#39;, &#39;&gt; 1 years en &lt;= 5 years&#39;, &#39;&gt; 5 years en &lt;= 10 years&#39;, &#39;&gt; 10 years&#39;]
</pre></div>
</div>
</div>
</div>
</section>
<section id="argument-2-2-alternative-housing-options-provide-local-relief">
<h1>📊 Argument 2.2: Alternative housing options provide local relief<a class="headerlink" href="#argument-2-2-alternative-housing-options-provide-local-relief" title="Link to this heading">#</a></h1>
<p>As noted earlier, there might also be a rise of alternative housing options. This could, for example, be tiny houses or other non-usual housing options. We might be in the early stages of a exponential growth of these alternative housing options, as shown in the chart below. These houses are classified as “unknow singe family home”.</p>
<p><strong>Years Displayed:</strong> 2021, 2022, 2023, 2024</p>
<p><strong>Observations:</strong></p>
<ul class="simple">
<li><p>The ‘Unknown single-family home’ category, while still representing a very small portion of the housing market (less than 0.1%), shows the most pronounced relative growth over the period:</p>
<ul>
<li><p>From 0.051% in 2021 to 0.0726% in 2024 — an increase of over 40% in relative share.</p></li>
</ul>
</li>
<li><p>In contrast, the shares of other housing types remained virtually unchanged over the same period:</p>
<ul>
<li><p>Terraced houses held steady at ~46%.</p></li>
<li><p>Detached, corner, and semi-detached houses maintained consistent distributions (~20.3%, ~19.9%, and ~13.7%, respectively).</p></li>
</ul>
</li>
</ul>
<p>This figure highlights a subtle but meaningful shift in housing data classification. While the market’s structural composition appears stable, the growth in the “Unknown single-family home” category may signal Or the emergence of new or hybrid housing forms not easily tracked in existing models. Even small changes like this can reflect underlying shifts in how housing is developed, reported, or lived in—reminding us that evolving data categories can be early indicators of broader market.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.graph_objects</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">go</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">plotly.subplots</span><span class="w"> </span><span class="kn">import</span> <span class="n">make_subplots</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;Woningtype__regio_17062025_001601.csv&quot;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

<span class="n">selected_types</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Unknown single-family home&quot;</span><span class="p">,</span>
    <span class="s2">&quot;detached house&quot;</span><span class="p">,</span>
    <span class="s2">&quot;semi-detached house&quot;</span><span class="p">,</span>
    <span class="s2">&quot;corner house&quot;</span><span class="p">,</span>
    <span class="s2">&quot;terraced house&quot;</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Woningtype&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">selected_types</span><span class="p">)]</span>

<span class="n">region</span> <span class="o">=</span> <span class="s2">&quot;Nederland&quot;</span>
<span class="n">df_region</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s2">&quot;Regio&#39;s&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">region</span><span class="p">]</span>

<span class="n">unique_periods</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">df_region</span><span class="p">[</span><span class="s2">&quot;Perioden&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">())[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">make_subplots</span><span class="p">(</span>
    <span class="n">rows</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">cols</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">specs</span><span class="o">=</span><span class="p">[[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;domain&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;domain&#39;</span><span class="p">}],</span>
           <span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;domain&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;domain&#39;</span><span class="p">}]],</span>
    <span class="n">subplot_titles</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">year</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">year</span> <span class="ow">in</span> <span class="n">unique_periods</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">positions</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)]</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">period</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">unique_periods</span><span class="p">):</span>
    <span class="n">row</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="n">positions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">df_year</span> <span class="o">=</span> <span class="n">df_region</span><span class="p">[</span><span class="n">df_region</span><span class="p">[</span><span class="s2">&quot;Perioden&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">period</span><span class="p">]</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">df_year</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;Woningtype&quot;</span><span class="p">)[</span><span class="s2">&quot;Beginstand woningvoorraad (aantal)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

    <span class="n">fig</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span>
        <span class="n">go</span><span class="o">.</span><span class="n">Pie</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="n">grouped</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">grouped</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">period</span><span class="p">)),</span>
        <span class="n">row</span><span class="o">=</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="o">=</span><span class="n">col</span>
    <span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">title_text</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Type of housing per year - Netherlands&quot;</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span>
    <span class="n">showlegend</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
</section>
<section id="argument-2-3-regional-price-differences-make-homeownership-more-realistic">
<h1>📊 Argument 2.3: Regional Price Differences Make Homeownership More Realistic<a class="headerlink" href="#argument-2-3-regional-price-differences-make-homeownership-more-realistic" title="Link to this heading">#</a></h1>
<p>As noted in the introduction, housing prices might also depend on location. The following graph will display the difference in house prices between different regions, emphasising the importance of looking at different regions.</p>
<ul class="simple">
<li><p><strong>X-axis:</strong> Dutch regions/municipalities</p></li>
<li><p><strong>Y-axis (left):</strong> Average home purchase price (€)</p></li>
</ul>
<p><strong>Year Shown:</strong> 2013 - 2024 (interactive)</p>
<p><strong>Observations:</strong></p>
<ul class="simple">
<li><p>Haarlem stands out as the most expensive region in 2024, with an average purchase price exceeding €550,000.</p></li>
<li><p>Utrecht, ’s-Hertogenbosch, and ’s-Gravenhage (The Hague) also show elevated prices—ranging between €450,000–€525,000 in 2024, reflecting strong demand and urban density.</p></li>
<li><p>At the lower end, Leeuwarden has the most affordable housing in every year, well below the national urban average.</p></li>
<li><p>The gap between the highest and lowest regions exceeds €240,000 in 2024, underscoring the influence of local market pressures, population density, and regional amenities on home prices.</p></li>
</ul>
<p>The chart clearly shows that there is almost always a better alternative. Living in the more populated citys might seem more attractive at first, but too few people manage to look at the bigger picture this chart shows. Housing might just need to be sought after at different locations, instead of staying at one part of the country.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ipywidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">interact</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;house_prices.csv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;;&#39;</span><span class="p">)</span>

<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Periods&#39;</span><span class="p">,</span> <span class="s1">&#39;Regions&#39;</span><span class="p">,</span> <span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">]</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Regions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Regions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Periods&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Periods&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> 

<span class="k">def</span><span class="w"> </span><span class="nf">plot_prices</span><span class="p">(</span><span class="n">year</span><span class="p">):</span>
    <span class="n">subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Periods&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">year</span><span class="p">]</span>
    <span class="n">subset_sorted</span> <span class="o">=</span> <span class="n">subset</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">subset_sorted</span><span class="p">[</span><span class="s1">&#39;Regions&#39;</span><span class="p">],</span> <span class="n">subset_sorted</span><span class="p">[</span><span class="s1">&#39;Average purchase price (euro)&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#39A0ED&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Average Purchase Price per Region - </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">year</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;€&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axhline</span><span class="p">(</span><span class="mi">100000</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">interact</span><span class="p">(</span><span class="n">plot_prices</span><span class="p">,</span> <span class="n">year</span><span class="o">=</span><span class="nb">sorted</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Periods&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">{"model_id": "d2f9ed2be8a744e6b58347bbb2192faa", "version_major": 2, "version_minor": 0}</script><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;function __main__.plot_prices(year)&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="summary-of-the-second-perspective">
<h1>Summary of the second perspective<a class="headerlink" href="#summary-of-the-second-perspective" title="Link to this heading">#</a></h1>
<p>The second perspective puts the housing market in bigger context. It shows not only the housing prices, but several other factors that could play a role in the housing market. As concluded from the first perspective, it is still clear that the house market in general is a rising problem. What the second perspective does show, is that there are external factors like location, place and interest that might alleviate the financial pressure when entering and surviving in the current housing market.</p>
</section>
<section id="general-summary">
<h1>General summary<a class="headerlink" href="#general-summary" title="Link to this heading">#</a></h1>
<p>In conclusion it is clear that the growth of income does not nearly match the growth of house prices in almost every region. It is also made clear that starters have an even harder time entering the house market, needing to sacrifice an even bigger part of their income to enter the house market. While the house market is certainly growing to be worse than it already is, there might also be alternatives or different regions that might offer some realistic housing options, but these do not exist on a big enough scale yet. So, while the growth of house prices might seem daunting, there might be hope for external factors to lessen the burden.</p>
</section>
<section id="reflection">
<h1>Reflection<a class="headerlink" href="#reflection" title="Link to this heading">#</a></h1>
<p><strong>Peer feedback</strong></p>
<p>On june 24th, 2025, our team A4 gathered to get feedback from our TA and peer feedback from A3. We gathered to both pitch our infovisual and give peer feedback to the pitch of another group. After our pitch we received multiple points of feedback. The main positive point was the structure of our datastory, as well as our almost complete graphs. Besides the positve points, we also received several points of feedback for our infovisual, received from our TA as wel as group A3:</p>
<ul class="simple">
<li><p>Technical problems with loading plots should be fixed, this includes empty white spaces and code errors.</p></li>
<li><p>Certain plots should be shows differently: starting plot from zero, too extensive for the amount of data and not using a logarithmic scale.</p></li>
<li><p>The perspectives and arguments should be shows in the introduction and referred to in the comments of the vissualisations.</p></li>
</ul>
<p>These problems were all quickly fixed the following days after the feedback.</p>
<p><strong>Self-reflection</strong></p>
<p>If the project lasted a few more weeks, we would’ve focussed on adding more quality above quantity. Most of the project was aimed towards showing the big picture of the entire Netherlands. While this was the aim of our project, it could have been interesting to be able to display more personal experiences of starters trying to enter the house market, which would give the info visual more in depth. Affordability is also subjective, so it would be interesting to find out what factors are important for a house to be seen as affordable. Another thing we did not go into is what makes house prices go up (such as Gregory D Sutton, 2022), but that might be better since that would make the subject to broad.</p>
</section>
<section id="work-distribution">
<h1>Work distribution<a class="headerlink" href="#work-distribution" title="Link to this heading">#</a></h1>
<p>To achieve clear communication between the entire team, we made several groups for both texts and voice calls. During our first meeting, we decided to each find datasets relating to the housing market. From those datasets, we were able to form several perspectives on our subject. From there, we were able to discuss possible graphs for each dataset. From there on out, we divided the graphs between each member of the team. After all the graphs were complete, we could create a story with a narrative around the visualisations. Every person was given the same amount of workload, which is as follows.</p>
<ul class="simple">
<li><p><strong>Hugo</strong></p></li>
</ul>
<p>Hugo firstly took a major role in setting up the project, including the GitHub page and deciding the subject of the project. Besides that, he was in charge of setting up the core of the first perspective, by making and visualising two different arguments that formed the start of the data story.</p>
<ul class="simple">
<li><p><strong>Mees</strong></p></li>
</ul>
<p>Mees worked on the final part of the project. This included the last two arguments and their respective visualisation. He also took charge in writing the introduction, reflection and work distribution. He also participated in making the “Dataset and preprocessing” part. He also took charge in presenting the draft as well as noting the given peer feedback. He also worked on the general structure of the project.</p>
<ul class="simple">
<li><p><strong>Mark</strong></p></li>
</ul>
<p>Mark was in charge of starting the first argument of the second perspective by creating a visualisation of the impact of the interest rates on the house market. He needed to use two datasets and run several calculations.</p>
<ul class="simple">
<li><p><strong>Robin</strong></p></li>
</ul>
<p>Robin was in charge of wrapping up the first argument by making an interactive visualisation combining two datasets to create a visualisation that compares the growth of house prices and income. He also participated in making the “Dataset and preprocessing” part.</p>
</section>
<section id="references">
<h1>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h1>
<ul class="simple">
<li><p>CBS Statline. (n.d.). <a class="reference external" href="https://opendata.cbs.nl/StatLine/#/CBS/nl/dataset/83625NED/table?ts=1750971263464">https://opendata.cbs.nl/StatLine/#/CBS/nl/dataset/83625NED/table?ts=1750971263464</a></p></li>
<li><p>CBS Statline. (n.d.-b). <a class="reference external" href="https://opendata.cbs.nl/#/CBS/nl/dataset/85035NED/table?searchKeywords=eengezinswoning">https://opendata.cbs.nl/#/CBS/nl/dataset/85035NED/table?searchKeywords=eengezinswoning</a></p></li>
<li><p>CBS Statline. (n.d.-c). <a class="reference external" href="https://opendata.cbs.nl/statline/#/CBS/nl/dataset/70072ned/table?ts=1750024841595">https://opendata.cbs.nl/statline/#/CBS/nl/dataset/70072ned/table?ts=1750024841595</a></p></li>
<li><p>Sutton, G. D. (2002). BIS Quarterly Review, September 2002. <a class="reference external" href="https://www.bis.org/publ/qtrpdf/r_qt0209f.pdf">https://www.bis.org/publ/qtrpdf/r_qt0209f.pdf</a></p></li>
<li><p>Knoll, K., Schularick, M., &amp; Steger, T. (2017). No price Like Home: Global House Prices, 1870–2012. American Economic Review, 107(2), 331–353. <a class="reference external" href="https://doi.org/10.1257/aer.20150501">https://doi.org/10.1257/aer.20150501</a></p></li>
<li><p>Shearer, H., &amp; Burton, P. (2018). Towards a Typology of Tiny Houses. Housing Theory And Society, 36(3), 298–318. <a class="reference external" href="https://doi.org/10.1080/14036096.2018.148787">https://doi.org/10.1080/14036096.2018.148787</a></p></li>
<li><p>E.M.J. Veerhoek. (2024). First-time buyers on the Dutch housing market – the starters dilemma. <a class="reference external" href="https://repository.tudelft.nl/record/uuid:ad545858-5b32-4f20-ad15-c44595d186b8">https://repository.tudelft.nl/record/uuid:ad545858-5b32-4f20-ad15-c44595d186b8</a></p></li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Introduction</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset-and-preprocessing">Dataset and preprocessing</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-1-housing-prices-vs-income-20112023">📈 Argument 1.1: Housing Prices vs. Income (2011–2023)</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-2-first-time-buyers-have-relatively-higher-mortgage-debt">📊 Argument 1.2: First-time buyers have relatively higher mortgage debt</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-1-3-in-specific-provinces-the-gap-between-income-and-house-price-widens-quicker-than-in-others">📊 Argument 1.3: In specific provinces, the gap between income and house price widens quicker than in others.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-the-first-perspective">Summary of the first perspective</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-1-low-interest-rates-softened-the-impact-of-rising-house-prices">📊 Argument 2.1: Low Interest Rates Softened the Impact of Rising House Prices</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-2-alternative-housing-options-provide-local-relief">📊 Argument 2.2: Alternative housing options provide local relief</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#argument-2-3-regional-price-differences-make-homeownership-more-realistic">📊 Argument 2.3: Regional Price Differences Make Homeownership More Realistic</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#summary-of-the-second-perspective">Summary of the second perspective</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#general-summary">General summary</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#reflection">Reflection</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#work-distribution">Work distribution</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yen-Chia Hsu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>